import{_ as f}from"./CFW7b2zj.js";import{r as l,c as i,a as e,b,w as g,g as h,v as k,j as u,k as y,l as w,m as N,F as c,n as V,o as m,d as B,t as p}from"./xkTdjWNk.js";import{l as M}from"./BLRFddlS.js";const C={class:"card"},D={class:"card-body"},F={class:"mb-3"},L={class:"col-8 messages-container"},S={class:"card mb-3"},T={class:"card-body"},j={class:"card-title"},A={__name:"index",setup(E){let r=l([]),v=l("lvan"),d=l(!1),n=null,s=l("");n=M("ws://localhost:3000"),d.value=!0,n.on("initial",o=>{r.value=o}),n.on("chat message",o=>{r.value.push({text:o.text,username:o.username}),console.log(o)});function _(){n.emit("chat message",{username:v.value,text:s.value}),s.value=""}return(o,t)=>{const x=f;return m(),i(c,null,[t[3]||(t[3]=e("h2",null,"Всем разрабам привет. Я стажер, но уже положил вам всю базу данных (( Извините ...",-1)),t[4]||(t[4]=e("h2",null,"Антон, ты уволен...",-1)),b(x,{to:"/message/message.vue"},{default:g(()=>t[1]||(t[1]=[B("Чат с бд")])),_:1}),t[5]||(t[5]=e("h1",null,"ЧАТ",-1)),e("form",{onSubmit:w(_,["prevent"])},[e("div",C,[e("div",D,[e("div",F,[h(e("textarea",{type:"text",class:"form-control",rows:"10","onUpdate:modelValue":t[0]||(t[0]=a=>y(s)?s.value=a:s=a)},null,512),[[k,u(s)]])]),t[2]||(t[2]=e("button",{type:"submit",class:"btn btn-primary"},"Отправить сообщение",-1))])])],32),e("div",L,[u(d)?(m(!0),i(c,{key:0},V(u(r),(a,R)=>(m(),i("div",S,[e("div",T,[e("h3",j,[e("span",null,p(a.username)+": "+p(a.text),1)])])]))),256)):N("",!0)])],64)}}};export{A as default};
